<html>
<head>
    <title>비밀번호 변경 요청 (테스트)</title>
    <meta charset="UTF-8">
</head>

<script type="text/javascript">
    var prefixPath = "";

    function onload() {
        prefixPath = document.getElementsByName("prefixPath")[0].value;
    }

    function onClick() {
        var requestData = {
            type: 1
        };
        var memberId = document.getElementsByName("memberId")[0].value;
        var requestURL = "../../../../../.."+prefixPath+"/anon/member/"+memberId;
        var xMLHttpRequest = new XMLHttpRequest();
        xMLHttpRequest.open('put', requestURL);
        xMLHttpRequest.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        xMLHttpRequest.onload = () => {
            console.log(xMLHttpRequest.response);
            document.getElementsByName('responseData')[0].value = xMLHttpRequest.response;
        };
        document.getElementsByName('requestData')[0].value = xMLHttpRequest.response;
        xMLHttpRequest.send(JSON.stringify(requestData));
    }

</script>

<body onload="onload()">
    <input type="hidden" name="prefixPath" th:value="${prefixPath}"/>

    <br>
    비밀번호 변경 요청 테스트
    <div id="div1">
        <input type="hidden" name="_method" value="PUT"/>
        <input type="hidden" name="type" value="1"/>
        <p>
        아이디(이메일) : <input type="text" name="memberId" placeholder="아이디" size="20">
        <p>
        <input type="submit" name="submit" value="비밀번호 변경 요청" onclick="onClick()"></input>
        <p>
        <input type="label" name="requestData" size="100" value="요청데이터">
        <p>
        <input type="label" name="responseData" size="100" value="응답데이터">
    </div>
</body>

</html>